<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Patient Records - BHCMS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/heroicons@2.1.1/dist/solid.js"></script>
    <script type="module" src="https://unpkg.com/heroicons@2.1.1/dist/outline.js"></script>
    
    <style>
        /* Apply Inter font globally */
        html {
            font-family: 'Inter', sans-serif;
        }

        /* --- COLLAPSIBLE SIDEBAR STYLES (Existing Admin Structure) --- */
        #sidebar-nav::-webkit-scrollbar { width: 6px; }
        #sidebar-nav::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 3px; }
        #sidebar-nav::-webkit-scrollbar-track { background: #2d3748; }
        #sidebar-nav { scrollbar-width: thin; scrollbar-color: #4a5568 #2d3748; }
        #sidebar {
            transition: width 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        #main-content {
            transition: margin-left 0.3s ease-in-out;
        }

        @media (min-width: 1024px) {
            /* Collapsed "mini" state (DEFAULT) */
            #sidebar { width: 5rem; z-index: 50; }
            #main-content { margin-left: 5rem; }
            .sidebar-text, .sidebar-header-text, .sidebar-dropdown-arrow {
                display: none; opacity: 0; transition: opacity 0.2s ease-in-out;
            }
            .sidebar-link-container, .sidebar-header { justify-content: center; }
            #sidebar:hover { width: 16rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            #sidebar:hover ~ #main-content { margin-left: 5rem; }
            #sidebar:hover .sidebar-text, #sidebar:hover .sidebar-header-text, #sidebar:hover .sidebar-dropdown-arrow {
                display: inline-block; opacity: 1; transition-delay: 0.1s;
            }
            #sidebar:hover .sidebar-link-container, #sidebar:hover .sidebar-header { justify-content: flex-start; }
        }
        @media (max-width: 1023px) {
            #sidebar { width: 16rem; transform: translateX(-100%); z-index: 60; }
            body.sidebar-open #sidebar { transform: translateX(0); }
            .sidebar-text, .sidebar-header-text, .sidebar-dropdown-arrow { display: inline-block; opacity: 1; }
        }

        /* --- CSS Variables --- */
        :root {
            --color-primary-blue: #007FFF;
            --color-primary-blue-light: #00AFFF;
            --color-primary-blue-dark: #006FDE;
            --color-primary-dark-blue: #1A2B48;

            --color-bg-main: #F9FAFB;
            --color-bg-card: #FFFFFF;
            --color-text-primary: #1A2B48;
            --color-text-secondary: #6B7280;
            --color-text-link: var(--color-primary-blue);
            --color-border-light: #F3F4F6;
            --color-border-medium: #E5E7EB;

            /* Status & Accent Colors */
            --color-tag-red-bg: #FFE4E6;
            --color-tag-red-text: #FF6B6B;
            --color-tag-green-bg: #D1FAE5;
            --color-tag-green-text: #059669;
            --color-tag-yellow-bg: #FEF3C7;
            --color-tag-yellow-text: #D97706;
            --color-tag-blue-bg: #DBEAFE;
            --color-tag-blue-text: #2563EB;
            --color-tag-orange-bg: #FFF7ED;
            --color-tag-orange-text: #F97316;

            --color-accent-aqua: #14B8A6;
            --color-accent-aqua-light: #F0FDFA;
            --color-accent-purple: #8B5CF6;
            --color-accent-purple-light: #F5F3FF;
            --color-accent-yellow: #F59E0B;
            --color-accent-yellow-light: #FFFBEB;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }

        /* --- General Component Styles --- */
        .btn-primary {
            background-image: linear-gradient(to right, var(--color-primary-blue) 0%, var(--color-primary-blue-light) 100%);
            color: white; padding: 0.75rem 1.25rem; font-weight: 600; border-radius: 8px; transition: all 0.2s ease;
        }
        .btn-primary:hover {
            background-image: linear-gradient(to right, var(--color-primary-blue-dark) 0%, var(--color-primary-blue) 100%);
            box-shadow: var(--shadow-md); transform: translateY(-2px);
        }
        .btn-primary-dark { background-color: var(--color-primary-dark-blue); color: white; }
        .btn-primary-dark:hover { background-color: #2c4a77; }
        
        .content-card {
            background-color: var(--color-bg-card); border-radius: 12px; border: 1px solid var(--color-border-light);
            box-shadow: var(--shadow-sm); overflow: hidden;
        }
        .content-card-header {
            padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--color-border-light);
        }

        /* Search Bar */
        .search-bar { position: relative; width: 100%; max-width: 350px; }
        .search-input {
            width: 100%; padding: 0.75rem 1rem 0.75rem 2.75rem; font-size: 0.95rem;
            border: 1px solid var(--color-border-medium); border-radius: 8px; background-color: #F9FAFB;
            color: var(--color-text-primary);
        }
        .search-icon {
            position: absolute; left: 0.85rem; top: 50%; transform: translateY(-50%);
            width: 20px; height: 20px; color: var(--color-text-secondary);
        }

        /* Table Styles */
        .patients-table { width: 100%; border-collapse: collapse; }
        .patients-table th, .patients-table td { padding: 1rem 1.5rem; text-align: left; border-bottom: 1px solid var(--color-border-light); }
        .patients-table th {
            font-size: 0.8rem; font-weight: 600; color: var(--color-text-secondary);
            text-transform: uppercase; letter-spacing: 0.05em; background-color: var(--color-bg-main);
        }
        .patients-table td { font-size: 0.95rem; font-weight: 500; color: var(--color-text-primary); }
        .patient-info-cell { display: flex; align-items: center; gap: 1rem; }
        .patient-table-avatar {
            width: 40px; height: 40px; border-radius: 50%; background-color: #F5F3FF;
            display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: #8B5CF6;
        }
        .patient-table-avatar svg { width: 20px; height: 20px; }
        .patient-table-name { font-weight: 600; }
        .patient-table-id { font-size: 0.85rem; color: var(--color-text-secondary); }

        .diagnosis-tag {
            display: inline-flex; padding: 0.25rem 0.75rem; border-radius: 99px;
            font-weight: 500; font-size: 0.85rem; background-color: var(--color-tag-orange-bg); color: var(--color-tag-orange-text);
        }
        .diagnosis-tag.tag-blue { background-color: var(--color-tag-blue-bg); color: var(--color-tag-blue-text); }
        .diagnosis-tag.tag-green { background-color: var(--color-tag-green-bg); color: var(--color-tag-green-text); }
        .diagnosis-tag.tag-red { background-color: var(--color-tag-red-bg); color: var(--color-tag-red-text); }
        .diagnosis-tag.tag-yellow { background-color: var(--color-tag-yellow-bg); color: var(--color-tag-yellow-text); }

        .btn-table-action {
            background-color: var(--color-bg-card); color: var(--color-text-link);
            border: 1px solid var(--color-border-medium); padding: 0.5rem 1rem;
            font-size: 0.9rem; font-weight: 600; box-shadow: var(--shadow-sm);
        }
        .btn-table-action:hover { background-color: var(--color-bg-main); border-color: var(--color-text-link); }

        /* --- Modal System --- */
        .modal-overlay {
            position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.6);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; z-index: 150;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-container {
            background-color: var(--color-bg-card); border-radius: 12px; box-shadow: var(--shadow-lg);
            width: 90%; max-width: 600px; transform: scale(0.95); opacity: 0; transition: all 0.3s ease;
            max-height: 90vh; display: flex; flex-direction: column;
        }
        /* Make the View Profile Modal Wider */
        #viewPatientModal .modal-container { max-width: 900px; } 

        .modal-overlay.active .modal-container { transform: scale(1); opacity: 1; }
        .modal-header { padding: 1.5rem; border-bottom: 1px solid var(--color-border-light); flex-shrink: 0; }
        .modal-title { font-size: 1.25rem; font-weight: 700; color: var(--color-text-primary); }
        .modal-subtitle { font-size: 0.95rem; color: var(--color-text-secondary); margin-top: 0.25rem; }
        .modal-body { padding: 1.5rem; overflow-y: auto; }
        .modal-footer {
            padding: 1.5rem; border-top: 1px solid var(--color-border-light); background-color: var(--color-bg-main);
            display: flex; justify-content: flex-end; gap: 0.75rem; border-radius: 0 0 12px 12px; flex-shrink: 0;
        }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        .form-group { display: flex; flex-direction: column; gap: 0.5rem; }
        .form-group.full-width { grid-column: 1 / -1; }
        .form-label { font-size: 0.9rem; font-weight: 600; color: var(--color-text-primary); }
        .form-input, .form-select, .form-textarea {
            width: 100%; padding: 0.75rem 1rem; font-size: 0.95rem;
            border: 1px solid var(--color-border-medium); border-radius: 8px; background-color: #F9FAFB;
        }

        /* --- STYLES FROM PATIENTS.HTML (For the Profile Modal) --- */
        .patient-header-card {
            background-color: var(--color-bg-card); border-radius: 12px; border: 1px solid var(--color-border-light);
            padding: 1.5rem; display: flex; align-items: center; gap: 1.5rem; margin-bottom: 1.5rem; box-shadow: var(--shadow-sm);
        }
        .patient-avatar {
            width: 64px; height: 64px; border-radius: 50%; background-color: var(--color-accent-purple-light);
            display: flex; align-items: center; justify-content: center; flex-shrink: 0;
            border: 4px solid var(--color-bg-card); box-shadow: 0 0 0 4px var(--color-accent-purple);
        }
        .patient-avatar svg { width: 32px; height: 32px; color: var(--color-accent-purple); }
        .patient-info { flex-grow: 1; }
        .patient-name { font-size: 1.5rem; font-weight: 700; color: var(--color-text-primary); }
        .patient-meta { font-size: 0.95rem; color: var(--color-text-secondary); margin-top: 0.25rem; }
        .patient-meta span { margin-right: 1.5rem; }
        .patient-meta strong { font-weight: 500; color: var(--color-text-primary); }

        .patient-tabs {
            display: flex; background-color: var(--color-bg-card); border-radius: 10px;
            padding: 0.5rem; margin-bottom: 1.5rem; box-shadow: var(--shadow-sm); border: 1px solid var(--color-border-light);
        }
        .patient-tab-link {
            flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            padding: 0.75rem 1rem; font-size: 0.95rem; font-weight: 600; color: var(--color-text-secondary);
            border-radius: 8px; transition: all 0.2s ease; cursor: pointer;
        }
        .patient-tab-link:hover { background-color: var(--color-bg-main); color: var(--color-text-primary); }
        .patient-tab-link.active {
            background-image: linear-gradient(90deg, var(--color-primary-blue) 0%, var(--color-primary-blue-light) 100%);
            color: var(--color-text-light); box-shadow: 0 4px 10px rgba(0, 127, 255, 0.3);
        }
        .patient-tab-link svg { width: 20px; height: 20px; }
        
        .patient-tab-content { display: none; }
        .patient-tab-content.active { display: block; }

        /* Profile Card Inner Styles */
        .card-header { padding: 1.5rem; display: flex; align-items: center; gap: 1rem; border-bottom: 1px solid var(--color-border-light); }
        .card-header-icon-wrapper {
            width: 44px; height: 44px; background-color: var(--color-accent-purple-light); color: var(--color-accent-purple);
            border-radius: 10px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;
        }
        .card-header-icon { width: 24px; height: 24px; }
        .card-title { font-size: 1.25rem; font-weight: 700; color: var(--color-text-primary); }
        .card-body { padding: 1.5rem; }

        /* Vitals Grid */
        .vitals-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; }
        .vital-item {
            background-color: var(--color-bg-card); padding: 1rem; border-radius: 12px;
            border: 1px solid var(--color-border-light); border-left: 5px solid var(--color-primary-blue); box-shadow: var(--shadow-sm);
        }
        .vital-item.accent-purple { border-color: var(--color-accent-purple); }
        .vital-item.accent-aqua { border-color: var(--color-accent-aqua); }
        .vital-item.accent-yellow { border-color: var(--color-accent-yellow); }
        .vital-item.accent-red { border-color: var(--color-tag-red-text); }
        .vital-item-label { font-size: 0.85rem; font-weight: 500; color: var(--color-text-secondary); margin-bottom: 0.25rem; }
        .vital-item-value { font-size: 1.5rem; font-weight: 700; color: var(--color-text-primary); }
        .vital-item-value span { font-size: 0.9rem; font-weight: 500; color: var(--color-text-secondary); }

        /* Medical Info Tags */
        .allergy-tag {
            display: inline-flex; align-items: center; gap: 0.5rem; background-color: var(--color-tag-red-bg);
            color: var(--color-tag-red-text); padding: 0.5rem 1rem; border-radius: 99px; font-weight: 600; font-size: 0.95rem;
        }
        .condition-list { display: flex; flex-direction: column; gap: 0.75rem; }
        .condition-item {
            font-size: 1rem; font-weight: 600; color: var(--color-text-primary); padding: 1rem;
            border: 1px solid var(--color-border-medium); border-radius: 10px;
        }
        .history-table { width: 100%; border-collapse: collapse; }
        .history-table th, .history-table td { padding: 0.75rem 1rem; text-align: left; border-bottom: 1px solid var(--color-border-light); }
        .history-table th { font-size: 0.8rem; font-weight: 600; color: var(--color-text-secondary); background-color: var(--color-bg-main); text-transform: uppercase; }

        /* Consultation Card */
        .consultation-card { background-color: var(--color-bg-card); border-radius: 12px; border: 1px solid var(--color-border-light); box-shadow: var(--shadow-sm); margin-bottom: 1rem; }
        .consultation-header { padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid var(--color-border-light); }
        .consultation-doctor { display: flex; align-items: center; gap: 1rem; }
        .consultation-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: var(--color-accent-aqua-light); display: flex; align-items: center; justify-content: center; }
        .consultation-avatar svg { width: 20px; height: 20px; color: var(--color-accent-aqua); }
        .consultation-doctor-name { font-size: 1rem; font-weight: 700; color: var(--color-text-primary); }
        .consultation-doctor-title { font-size: 0.85rem; font-weight: 500; color: var(--color-text-secondary); }
        .consultation-meta .date { display: block; font-weight: 600; color: var(--color-text-primary); font-size: 0.9rem; }
        .consultation-body { padding: 1.25rem 1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem 2rem; }
        .consultation-item-label { font-size: 0.75rem; font-weight: 600; color: var(--color-text-secondary); margin-bottom: 0.25rem; text-transform: uppercase; }
        .consultation-item-value { font-weight: 500; color: var(--color-text-primary); font-size: 0.9rem; }
        .consultation-item-value.full-width { grid-column: 1 / -1; }
        .consultation-footer { padding: 0.75rem 1.5rem; border-top: 1px solid var(--color-border-light); background-color: var(--color-bg-main); font-size: 0.9rem; font-weight: 600; color: var(--color-text-primary); }

    </style>
</head>
<body class="bg-gray-100">
    <div class="flex h-screen bg-gray-100">

       <aside id="sidebar" class="fixed inset-y-0 left-0 flex flex-col h-screen bg-gray-800 text-gray-200">
    
    <div class="sidebar-header flex items-center p-4 h-16 border-b border-gray-700 flex-shrink-0">
        <a href="AdminDashboard.html" class="flex items-center space-x-2 overflow-hidden">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-teal-400 flex-shrink-0">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
            </svg>
            <span class="text-xl font-bold text-white sidebar-header-text whitespace-nowrap">
                Admin
            </span>
        </a>
        <button id="sidebar-close-btn" class="hidden ml-auto p-1 text-gray-400 hover:text-white">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>

    <nav id="sidebar-nav" class="flex-1 overflow-y-auto">
        <ul class="py-4">
            
            <li>
                <a href="AdminDashboard.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Dashboard</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="Appointment.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zM5.25 6.75c-.621 0-1.125.504-1.125 1.125V18a1.125 1.125 0 001.125 1.125h13.5A1.125 1.125 0 0019.875 18V7.875c0-.621-.504-1.125-1.125-1.125H5.25z" clip-rule="evenodd" />
                            <path d="M10.5 12a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Appointments</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="PatientRecords.html" class="flex items-center px-4 py-3 bg-teal-600 text-white font-semibold">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path d="M11.7 2.25c.218-.579 1.02-.579 1.238 0l.4 1.063a.75.75 0 00.728.529h1.096c.606 0 1.01.657.733 1.183l-.9.45a.75.75 0 00-.27.803l.4 1.063c.218.579-.188 1.272-.733 1.183h-1.096a.75.75 0 00-.728.529l-.4 1.063c-.218.579-1.02.579-1.238 0l-.4-1.063a.75.75 0 00-.728-.529H7.94c-.606 0-1.01-.657-.733-1.183l.9-.45a.75.75 0 00.27-.803l-.4-1.063c-.218-.579.188-1.272.733-1.183h1.096a.75.75 0 00.728-.529l.4-1.063z" />
                            <path fill-rule="evenodd" d="M12 21a9 9 0 100-18 9 9 0 000 18zm0-1.5c-4.142 0-7.5-3.358-7.5-7.5s3.358-7.5 7.5-7.5 7.5 3.358 7.5 7.5-3.358 7.5-7.5 7.5z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Patient Records</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="MedicalInventory.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M5.25 2.25a.75.75 0 01.75.75v1.5H18V3a.75.75 0 011.5 0v1.5H21a.75.75 0 01.75.75v16.5a.75.75 0 01-.75.75H3a.75.75 0 01-.75-.75V5.25a.75.75 0 01.75-.75H4.5V3a.75.75 0 01.75-.75zm0 9v6.75h13.5V11.25H5.25zm0-7.5v6h13.5v-6H5.25z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Inventory</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="Reports.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path d="M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Reports</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="Inquiries.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M4.804 21.644A6.707 6.707 0 006 21.75a6.721 6.721 0 003.583-1.029c.433.09.9.158 1.417.158A6.721 6.721 0 0018 20.72a6.707 6.707 0 001.196.924c.23.16.49.29.766.392A6.715 6.715 0 0021 18.75a6.715 6.715 0 00-2.234-5.02c.088-.45.134-.91.134-1.38C18.9 9.868 15.933 7 12 7S5.1 9.868 5.1 12.3c0 .47.046.93.134 1.38A6.715 6.715 0 003 18.75c0 .613.081 1.21.234 1.77.276-.102.536-.232.766-.392zM12 8.5c3.19 0 5.89 2.494 5.89 5.55 0 .28-.02.556-.059.828a.75.75 0 01-.84.69c-.201-.023-.393-.053-.575-.09a.75.75 0 01-.6-.82c.046-.28.076-.564.076-.858 0-2.24-1.99-4.05-4.442-4.05-2.452 0-4.442 1.81-4.442 4.05 0 .294.03.578.076.858a.75.75 0 01-.6.82c-.182.037-.374.067-.575.09a.75.75 0 01-.84-.69.923.923 0 01-.059-.828C6.11 10.994 8.81 8.5 12 8.5z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Inquiries</span>
                    </span>
                </a>
            </li>

            <li>
                <a href="Healthstatistics.html" class="flex items-center px-4 py-3 bg-teal-600 text-white font-semibold">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z" clip-rule="evenodd" />
                            <path fill-rule="evenodd" d="M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-6.75a.75.75 0 01-.75-.75V3z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Health Statistics</span>
                    </span>
                </a>
            </li>
            
            <li class="px-4 py-2 mt-2 text-xs font-semibold text-gray-500 uppercase tracking-wider sidebar-text">
                Management
            </li>
            
            <li>
                <button id="content-toggle" class="w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z" clip-rule="evenodd" />
                            <path fill-rule="evenodd" d="M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-6.75a.75.75 0 01-.75-.75V3z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">Site Content</span>
                    </span>
                    <svg id="content-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 transition-transform duration-200 sidebar-dropdown-arrow">
                        <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                    </svg>
                </button>
                <ul id="content-menu" class="hidden bg-gray-700">
                    <li><a href="AdminAnnouncement.html" class="block px-10 py-2 text-sm text-gray-300 hover:bg-gray-600 hover:text-white sidebar-text">Announcements</a></li>
                    <li><a href="AdminServices.html" class="block px-10 py-2 text-sm text-gray-300 hover:bg-gray-600 hover:text-white sidebar-text">Services</a></li>
                    <li><a href="AdminFAQS.html" class="block px-10 py-2 text-sm text-gray-300 hover:bg-gray-600 hover:text-white sidebar-text">FAQs</a></li>
                </ul>
            </li>
            
            <li>
                <button id="user-toggle" class="w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white">
                    <span class="sidebar-link-container flex items-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-3 flex-shrink-0">
                            <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="sidebar-text whitespace-nowrap">User Management</span>
                    </span>
                    <svg id="user-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 transition-transform duration-200 sidebar-dropdown-arrow">
                        <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                    </svg>
                </button>
                <ul id="user-menu" class="hidden bg-gray-700">
                    <li><a href="DoctorsProfile.html" class="block px-10 py-2 text-sm text-gray-300 hover:bg-gray-600 hover:text-white sidebar-text">Staff</a></li>
                    <li><a href="AdminResidents.html" class="block px-10 py-2 text-sm text-gray-300 hover:bg-gray-600 hover:text-white sidebar-text">Residents</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</aside>

        </aside>

        <div id="sidebar-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden"></div>

        <div id="main-content" class="flex-1 flex flex-col overflow-hidden">
            <header class="h-16 bg-white shadow-sm border-b border-gray-200 flex items-center justify-between px-6 z-30 flex-shrink-0">
                <button id="sidebar-open-btn" class="lg:hidden p-1 text-gray-600 hover:text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
                </button>
                <div class=""><h1 class="text-xl font-semibold text-gray-800">Patient Records</h1></div>
                <div class="flex items-center space-x-4 ml-auto">
                    <button class="p-2 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-700 relative">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" /></svg>
                        <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <div class="relative">
                        <button id="profile-toggle" class="flex items-center space-x-2">
                            <img src="https://placehold.co/40x40/a5f3fc/083344?text=A" alt="Admin" class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                        </button>
                        <div id="profile-menu" class="hidden absolute right-0 top-full mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100">
                            <div class="px-4 py-2 border-b"><span class="font-semibold text-sm text-gray-700">Admin User</span><span class="block text-xs text-gray-500">Administrator</span></div>
                            <a href="AdminProfile.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Profile</a>
                            <a href="AdminSettings.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
                            <a href="admin_login.html" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Logout</a>
                        </div>
                    </div>
                </div>
            </header>

            <main class="flex-1 overflow-y-auto p-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <h1 class="text-3xl font-bold text-gray-800">Patient Records</h1>
                    <button data-modal-target="addPatientModal" class="btn btn-primary mt-4 md:mt-0 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 mr-2">
                            <path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z" />
                        </svg>
                        <span>Add Patient</span>
                    </button>
                </div>

                <section id="patient-list">
                    <div class="content-card"> 
                        <div class="content-card-header">
                            <div class="search-bar">
                                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                                </svg>
                                <input type="text" class="search-input" placeholder="Search by name or ID...">
                            </div>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="patients-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Age</th>
                                        <th>Gender</th>
                                        <th>Blood Type</th>
                                        <th>Last Diagnosis</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                                                         <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <div class="patient-table-name">Princess Lorraine Trabasas</div>
                                                    <div class="patient-table-id">ID: PT001234</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>34</td>
                                        <td>Female</td>
                                        <td>O+</td>
                                        <td><span class="diagnosis-tag">Hypertension</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-accent-aqua-light); color: var(--color-accent-aqua);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Ronald Czeasar Dacanay</div><div class="patient-table-id">ID: PT001235</div></div>
                                            </div>
                                        </td>
                                        <td>45</td>
                                        <td>Female</td>
                                        <td>A+</td>
                                        <td><span class="diagnosis-tag tag-blue">Type 2 Diabetes</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-accent-yellow-light); color: var(--color-accent-yellow);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Cheska Villa</div><div class="patient-table-id">ID: PT001236</div></div>
                                            </div>
                                        </td>
                                        <td>52</td>
                                        <td>Female</td>
                                        <td>B+</td>
                                        <td><span class="diagnosis-tag tag-green">Common Cold</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-tag-red-bg); color: var(--color-tag-red-text);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Jubylyn Mae Bergado</div><div class="patient-table-id">ID: PT001237</div></div>
                                            </div>
                                        </td>
                                        <td>28</td>
                                        <td>Female</td>
                                        <td>AB-</td>
                                        <td><span class="diagnosis-tag tag-red">Asthma</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Eduardo David</div><div class="patient-table-id">ID: PT001238</div></div>
                                            </div>
                                        </td>
                                        <td>61</td>
                                        <td>Male</td>
                                        <td>O-</td>
                                        <td><span class="diagnosis-tag">Arthritis</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-accent-aqua-light); color: var(--color-accent-aqua);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Angelica Vega</div><div class="patient-table-id">ID: PT001239</div></div>
                                            </div>
                                        </td>
                                        <td>22</td>
                                        <td>Female</td>
                                        <td>A-</td>
                                        <td><span class="diagnosis-tag tag-green">Sinto Sinto</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-accent-yellow-light); color: var(--color-accent-yellow);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Jorge Anthony Porquillo</div><div class="patient-table-id">ID: PT001240</div></div>
                                            </div>
                                        </td>
                                        <td>43</td>
                                        <td>Male</td>
                                        <td>B-</td>
                                        <td><span class="diagnosis-tag tag-yellow">Dengue Fever</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-tag-red-bg); color: var(--color-tag-red-text);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">John Kylle Betiz</div><div class="patient-table-id">ID: PT001241</div></div>
                                            </div>
                                        </td>
                                        <td>37</td>
                                        <td>Male</td>
                                        <td>O+</td>
                                        <td><span class="diagnosis-tag tag-blue">Migraine</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="patient-info-cell">
                                                <div class="patient-table-avatar" style="background-color: var(--color-tag-red-bg); color: var(--color-tag-red-text);">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" /></svg>
                                                </div>
                                                <div><div class="patient-table-name">Alecksis Alforte</div><div class="patient-table-id">ID: PT001242</div></div>
                                            </div>
                                        </td>
                                        <td>37</td>
                                        <td>Female</td>
                                        <td>O+</td>
                                        <td><span class="diagnosis-tag tag-blue">Migraine</span></td>
                                        <td><button class="btn-table-action view-profile-btn-new">View</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
    
    <div class="modal-overlay modal fixed inset-0 z-[150] hidden" id="addPatientModal">
        <div class="modal-container modal-panel w-full max-w-lg">
            <div class="modal-header flex justify-between items-center">
                <h3 class="modal-title">Add New Patient</h3>
                <button data-modal-close="addPatientModal" class="p-2 text-gray-400 hover:text-gray-600">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="add-patient-form">
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">Full Name *</label><input type="text" class="form-input" placeholder="Juan Dela Cruz" required></div>
                        <div class="form-group"><label class="form-label">Date of Birth *</label><input type="date" class="form-input" required></div>
                        <div class="form-group"><label class="form-label">Gender *</label><select class="form-select" required><option value="">Select</option><option value="male">Male</option><option value="female">Female</option></select></div>
                        <div class="form-group"><label class="form-label">Phone *</label><input type="tel" class="form-input" placeholder="09123456789" required></div>
                        <div class="form-group full-width"><label class="form-label">Address *</label><input type="text" class="form-input" placeholder="Address" required></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" data-modal-close="addPatientModal" class="py-2 px-4 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">Cancel</button>
                <button type="submit" form="add-patient-form" class="btn btn-primary-dark">Add Patient</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay modal fixed inset-0 z-[150] hidden" id="viewPatientModal">
        <div class="modal-container modal-panel w-full max-w-4xl h-[90vh] flex flex-col">
            <div class="modal-header flex justify-between items-center flex-shrink-0">
                <h3 class="modal-title">Patient Profile</h3>
                <button data-modal-close="viewPatientModal" class="p-2 text-gray-400 hover:text-gray-600">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="modal-body flex-grow overflow-y-auto p-6 bg-gray-50">
                
                <div class="patient-header-card">
                    <div class="patient-avatar">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18 22.5h-12a1.875 1.875 0 0 1-1.499-2.382Z" />
                        </svg>
                    </div>
                    <div class="patient-info">
                        <h2 class="patient-name">Princess Lorraine Trabasas</h2>
                        <p class="patient-meta">
                            <span>ID: <strong>PT001234</strong></span>
                            <span>Age: <strong>20 years old</strong></span>
                            <span>Gender: <strong>Female</strong></span>
                        </p>
                    </div>
                </div>

                <nav class="patient-tabs">
                    <a href="#" class="patient-tab-link active" data-tab="modal-patient-info"><span>Patient Info</span></a>
                    <a href="#" class="patient-tab-link" data-tab="modal-medical-info"><span>Medical Info</span></a>
                    <a href="#" class="patient-tab-link" data-tab="modal-consultation-records"><span>Consultations</span></a>
                    <a href="#" class="patient-tab-link" data-tab="modal-medications"><span>Medications</span></a>
                </nav>
                
                <div id="modal-patient-info" class="patient-tab-content active">
                    <div class="content-card">
                        <div class="card-header"><h3 class="card-title">Vital Signs</h3></div>
                        <div class="card-body">
                            <div class="vitals-grid">
                                <div class="vital-item"><div class="vital-item-label">Blood Pressure</div><div class="vital-item-value">128/82 <span>mmHg</span></div></div>
                                <div class="vital-item accent-purple"><div class="vital-item-label">Temperature</div><div class="vital-item-value-small">98.6 <span>F</span></div></div>
                                <div class="vital-item accent-aqua"><div class="vital-item-label">Heart Rate</div><div class="vital-item-value-small">72 <span>bpm</span></div></div>
                                <div class="vital-item accent-yellow"><div class="vital-item-label">Height</div><div class="vital-item-value-small">165 <span>cm</span></div></div>
                                <div class="vital-item accent-red"><div class="vital-item-label">Weight</div><div class="vital-item-value-small">68 <span>kg</span></div></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="modal-medical-info" class="patient-tab-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="content-card">
                            <div class="card-header"><h3 class="card-title">Allergies</h3></div>
                            <div class="card-body"><div class="allergy-tag"><span>Peanuts</span></div></div>
                        </div>
                        <div class="content-card">
                            <div class="card-header"><h3 class="card-title">Chronic Conditions</h3></div>
                            <div class="card-body">
                                <div class="condition-list"><div class="condition-item">Type 2 Diabetes</div><div class="condition-item">Hypertension</div></div>
                            </div>
                        </div>
                    </div>
                    <div class="content-card">
                        <div class="card-header"><h3 class="card-title">Medical History</h3></div>
                        <table class="history-table">
                            <thead><tr><th>Procedure</th><th>Hospital</th><th>Date</th></tr></thead>
                            <tbody><tr><td>Appendectomy</td><td>Boston General Hospital</td><td>2015-08-20</td></tr></tbody>
                        </table>
                    </div>
                </div>
                
                <div id="modal-consultation-records" class="patient-tab-content">
                    <div class="consultation-card">
                        <div class="consultation-header">
                            <div class="consultation-doctor">
                                <div class="consultation-avatar"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 9 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg></div>
                                <div class="consultation-doctor-info"><div class="consultation-doctor-name">Dr. Emily Chen</div><div class="consultation-doctor-title">Endocrinology</div></div>
                            </div>
                            <div class="consultation-meta"><span class="date">2025-10-15</span><span class="time">10:30 AM</span></div>
                        </div>
                        <div class="consultation-body">
                            <div class="consultation-item"><div class="consultation-item-label">Diagnosis</div><div class="consultation-item-value">Type 2 Diabetes Mellitus</div></div>
                            <div class="consultation-item full-width"><div class="consultation-item-label">Notes</div><div class="consultation-item-value">HbA1c levels improved to 6.8%. Patient reports good compliance.</div></div>
                        </div>
                    </div>
                </div>
                
                <div id="modal-medications" class="patient-tab-content">
                    <div class="content-card">
                        <div class="card-header"><h3 class="card-title">Current Medications</h3></div>
                        <div class="card-body"><p>Dina tatalab gamot dito. Kailangan nito rehub</p></div>
                    </div>
                </div>

                </div>
            <div class="modal-footer flex-shrink-0">
                <button type="button" data-modal-close="viewPatientModal" class="py-2 px-4 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50">Close</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- Sidebar Toggle ---
            const sidebar = document.getElementById('sidebar');
            const sidebarOpenBtn = document.getElementById('sidebar-open-btn');
            const sidebarCloseBtn = document.getElementById('sidebar-close-btn');
            const sidebarBackdrop = document.getElementById('sidebar-backdrop');

            if (sidebarOpenBtn) sidebarOpenBtn.addEventListener('click', () => document.body.classList.add('sidebar-open'));
            if (sidebarCloseBtn) sidebarCloseBtn.addEventListener('click', () => document.body.classList.remove('sidebar-open'));
            if (sidebarBackdrop) sidebarBackdrop.addEventListener('click', () => document.body.classList.remove('sidebar-open'));

            // --- Profile Dropdown ---
            const profileToggle = document.getElementById('profile-toggle');
            const profileMenu = document.getElementById('profile-menu');
            if (profileToggle && profileMenu) {
                profileToggle.addEventListener('click', () => profileMenu.classList.toggle('hidden'));
                document.addEventListener('click', (e) => {
                    if (!profileToggle.contains(e.target) && !profileMenu.contains(e.target)) profileMenu.classList.add('hidden');
                });
            }

            // --- Content Dropdown ---
            const contentToggle = document.getElementById('content-toggle');
            const contentMenu = document.getElementById('content-menu');
            const contentArrow = document.getElementById('content-arrow');
            if (contentToggle && contentMenu) {
                contentToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (window.innerWidth < 1024) {
                        contentMenu.classList.toggle('hidden');
                        if (contentArrow) contentArrow.classList.toggle('rotate-180');
                    }
                });
            }
            // --- User Dropdown ---
            const userToggle = document.getElementById('user-toggle');
            const userMenu = document.getElementById('user-menu');
            const userArrow = document.getElementById('user-arrow');
            if (userToggle && userMenu) {
                userToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (window.innerWidth < 1024) {
                        userMenu.classList.toggle('hidden');
                        if (userArrow) userArrow.classList.toggle('rotate-180');
                    }
                });
            }

            // --- Modal Handling ---
            const modals = {};
            document.querySelectorAll('.modal').forEach(modal => modals[modal.id] = modal);

            function openModal(modalId) {
                const modal = modals[modalId];
                if (modal) {
                    modal.classList.remove('hidden');
                    // Small delay to allow display:block to apply before opacity transition
                    setTimeout(() => {
                        modal.classList.add('active');
                        modal.querySelector('.modal-container')?.classList.add('active'); // Ensure container scales up
                    }, 10);
                    document.body.style.overflow = 'hidden';
                }
            }

            function closeModal(modalId) {
                const modal = modals[modalId];
                if (modal) {
                    modal.classList.remove('active');
                    setTimeout(() => {
                        modal.classList.add('hidden');
                        document.body.style.overflow = 'auto';
                    }, 300); // Match CSS transition time
                }
            }

            document.querySelectorAll('[data-modal-target]').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal(button.getAttribute('data-modal-target'));
                });
            });

            document.querySelectorAll('[data-modal-close]').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    // Find the modal ID from the closest .modal-overlay
                    const modal = button.closest('.modal-overlay');
                    if(modal) {
                        closeModal(modal.id);
                    }
                });
            });

            // Specific Logic for "View" buttons in table
            document.querySelectorAll('.view-profile-btn-new').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    // In a real application, logic to dynamically populate 
                    // the modal content based on the patient's ID would go here.
                    openModal('viewPatientModal');
                });
            });

            // --- Tab Logic inside View Patient Modal ---
            const tabLinks = document.querySelectorAll('.patient-tab-link');
            const tabContents = document.querySelectorAll('.patient-tab-content');

            tabLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-tab');

                    // Deactivate all
                    tabLinks.forEach(l => l.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));

                    // Activate target
                    link.classList.add('active');
                    const targetContent = document.getElementById(targetId);
                    if (targetContent) targetContent.classList.add('active');
                });
            });

        });
    </script>
</body>
</html>